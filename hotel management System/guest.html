<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HotelEase - Guest Management</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .sidebar {
            transition: all 0.3s;
        }
        .main-content {
            transition: all 0.3s;
        }
        .modal {
            transition: opacity 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar bg-blue-800 text-white w-64 py-4 px-6 flex flex-col">
            <div class="flex items-center justify-between mb-8">
                <h1 class="text-2xl font-bold">AKWAABA HOTEL</h1>
                <button id="collapse-btn" class="md:hidden">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav>
                <ul>
                    <li class="mb-4">
                        <a href="dashboard.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-tachometer-alt mr-3"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="reservations.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-calendar-check mr-3"></i>
                            <span>Reservations</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="#guests" class="flex items-center py-2 px-4 bg-blue-900 rounded">
                            <i class="fas fa-users mr-3"></i>
                            <span>Guests</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="rooms.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-door-closed mr-3"></i>
                            <span>Rooms</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="services.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-concierge-bell mr-3"></i>
                            <span>Services</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="billing.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-file-invoice-dollar mr-3"></i>
                            <span>Billing</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="reports.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-chart-line mr-3"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="settings.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-cog mr-3"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="mt-auto">
                <div class="flex items-center py-2 px-4">
                    <img src="images.png" alt="Admin" class="rounded-full h-10 w-10">
                    <div class="ml-3">
                        <p class="font-medium">Antepim Awuah Vincent</p>
                        <p class="text-sm text-blue-200">Admin</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div id="main-content" class="main-content flex-1 overflow-x-hidden overflow-y-auto">
            <!-- Top Navigation -->
            <header class="bg-white shadow-sm">
                <div class="flex items-center justify-between py-4 px-6">
                    <div class="flex items-center">
                        <button id="mobile-toggle" class="md:hidden mr-6">
                            <i class="fas fa-bars"></i>
                        </button>
                        <h2 class="text-xl font-semibold">Guest Management</h2>
                    </div>
                    <div class="flex items-center">
                        <div class="relative mr-4">
                            <input type="text" id="searchGuests" placeholder="Search guests..." class="py-2 px-4 rounded-full bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                        </div>
                        <div class="relative mr-4">
                            <button class="relative">
                                <i class="fas fa-bell text-gray-500 text-xl"></i>
                                <span class="absolute -top-1 -right-1 bg-red-500 rounded-full w-4 h-4 text-xs text-white flex items-center justify-center">3</span>
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Guest Management Content -->
            <main class="p-6">
                <!-- Quick Stats -->
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-6">
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-full">
                                <i class="fas fa-users text-blue-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">Total Guests</h3>
                                <p class="text-2xl font-semibold">487</p>
                                <p class="text-green-500 text-sm"><i class="fas fa-arrow-up"></i> 12% from last month</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-3 rounded-full">
                                <i class="fas fa-user-check text-green-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">Current Guests</h3>
                                <p class="text-2xl font-semibold">34</p>
                                <p class="text-blue-500 text-sm"><i class="fas fa-info-circle"></i> In hotel now</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-3 rounded-full">
                                <i class="fas fa-star text-purple-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">VIP Guests</h3>
                                <p class="text-2xl font-semibold">23</p>
                                <p class="text-purple-500 text-sm"><i class="fas fa-crown"></i> Premium members</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-yellow-100 p-3 rounded-full">
                                <i class="fas fa-user-plus text-yellow-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">New This Month</h3>
                                <p class="text-2xl font-semibold">45</p>
                                <p class="text-green-500 text-sm"><i class="fas fa-arrow-up"></i> 8% increase</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Guest Management Section -->
                <div class="bg-white rounded-lg shadow-sm">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
                            <h3 class="text-lg font-semibold mb-4 sm:mb-0">All Guests</h3>
                            <div class="flex flex-col sm:flex-row gap-3">
                                <div class="flex gap-2">
                                    <select id="statusFilter" class="text-sm border rounded py-2 px-3">
                                        <option value="">All Status</option>
                                        <option value="current">Current Guest</option>
                                        <option value="checked-out">Checked Out</option>
                                        <option value="vip">VIP</option>
                                        <option value="blacklisted">Blacklisted</option>
                                    </select>
                                    <select id="sortBy" class="text-sm border rounded py-2 px-3">
                                        <option value="name">Sort by Name</option>
                                        <option value="date">Sort by Date</option>
                                        <option value="status">Sort by Status</option>
                                    </select>
                                </div>
                                <button id="addGuestBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm flex items-center">
                                    <i class="fas fa-plus mr-2"></i>
                                    Add New Guest
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Guest Table -->
                    <div class="overflow-x-auto">
                        <table class="w-full" id="guestTable">
                            <thead>
                                <tr class="text-left text-xs font-semibold text-gray-500 uppercase border-b bg-gray-50">
                                    <th class="px-6 py-4">Guest Info</th>
                                    <th class="px-6 py-4">Contact</th>
                                    <th class="px-6 py-4">Status</th>
                                    <th class="px-6 py-4">Last Visit</th>
                                    <th class="px-6 py-4">Total Stays</th>
                                    <th class="px-6 py-4">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="guestTableBody">
                                <tr class="border-b hover:bg-gray-50">
                                    <td class="px-6 py-4">
                                        <div class="flex items-center">
                                            <img src="images.png" alt="Guest" class="h-10 w-10 rounded-full">
                                            <div class="ml-4">
                                                <p class="font-medium text-gray-900">Emma Wilson</p>
                                                <p class="text-sm text-gray-500">ID: #G001</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">emma.wilson@email.com</p>
                                        <p class="text-sm text-gray-500">+1 (555) 123-4567</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="px-3 py-1 text-xs bg-green-100 text-green-800 rounded-full flex items-center w-fit">
                                            <i class="fas fa-user-check mr-1"></i>
                                            Current Guest
                                        </span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">May 20, 2025</p>
                                        <p class="text-sm text-gray-500">Suite 201</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="text-sm font-medium">8 stays</span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="flex space-x-2">
                                            <button class="text-blue-600 hover:text-blue-800" onclick="viewGuest('G001')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="text-green-600 hover:text-green-800" onclick="editGuest('G001')">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-800" onclick="deleteGuest('G001')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="border-b hover:bg-gray-50">
                                    <td class="px-6 py-4">
                                        <div class="flex items-center">
                                            <img src="images.png" alt="Guest" class="h-10 w-10 rounded-full">
                                            <div class="ml-4">
                                                <p class="font-medium text-gray-900">Michael Johnson</p>
                                                <p class="text-sm text-gray-500">ID: #G002</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">michael.j@email.com</p>
                                        <p class="text-sm text-gray-500">+1 (555) 987-6543</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="px-3 py-1 text-xs bg-purple-100 text-purple-800 rounded-full flex items-center w-fit">
                                            <i class="fas fa-crown mr-1"></i>
                                            VIP
                                        </span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">May 15, 2025</p>
                                        <p class="text-sm text-gray-500">Deluxe 105</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="text-sm font-medium">15 stays</span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="flex space-x-2">
                                            <button class="text-blue-600 hover:text-blue-800" onclick="viewGuest('G002')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="text-green-600 hover:text-green-800" onclick="editGuest('G002')">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-800" onclick="deleteGuest('G002')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="border-b hover:bg-gray-50">
                                    <td class="px-6 py-4">
                                        <div class="flex items-center">
                                            <img src="images.png" alt="Guest" class="h-10 w-10 rounded-full">
                                            <div class="ml-4">
                                                <p class="font-medium text-gray-900">Sarah Adams</p>
                                                <p class="text-sm text-gray-500">ID: #G003</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">sarah.adams@email.com</p>
                                        <p class="text-sm text-gray-500">+1 (555) 456-7890</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="px-3 py-1 text-xs bg-gray-100 text-gray-800 rounded-full flex items-center w-fit">
                                            <i class="fas fa-user-times mr-1"></i>
                                            Checked Out
                                        </span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">May 10, 2025</p>
                                        <p class="text-sm text-gray-500">Standard 304</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="text-sm font-medium">3 stays</span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="flex space-x-2">
                                            <button class="text-blue-600 hover:text-blue-800" onclick="viewGuest('G003')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="text-green-600 hover:text-green-800" onclick="editGuest('G003')">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-800" onclick="deleteGuest('G003')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="border-b hover:bg-gray-50">
                                    <td class="px-6 py-4">
                                        <div class="flex items-center">
                                            <img src="images.png" alt="Guest" class="h-10 w-10 rounded-full">
                                            <div class="ml-4">
                                                <p class="font-medium text-gray-900">David Miller</p>
                                                <p class="text-sm text-gray-500">ID: #G004</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">david.miller@email.com</p>
                                        <p class="text-sm text-gray-500">+1 (555) 321-0987</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="px-3 py-1 text-xs bg-red-100 text-red-800 rounded-full flex items-center w-fit">
                                            <i class="fas fa-ban mr-1"></i>
                                            Blacklisted
                                        </span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <p class="text-sm text-gray-900">April 28, 2025</p>
                                        <p class="text-sm text-gray-500">Suite 205</p>
                                    </td>
                                    <td class="px-6 py-4">
                                        <span class="text-sm font-medium">2 stays</span>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="flex space-x-2">
                                            <button class="text-blue-600 hover:text-blue-800" onclick="viewGuest('G004')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="text-green-600 hover:text-green-800" onclick="editGuest('G004')">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-800" onclick="deleteGuest('G004')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Pagination -->
                    <div class="px-6 py-4 border-t border-gray-200">
                        <div class="flex items-center justify-between">
                            <div class="text-sm text-gray-500">
                                Showing 1 to 4 of 487 guests
                            </div>
                            <div class="flex space-x-2">
                                <button class="px-3 py-2 text-sm border rounded hover:bg-gray-50">Previous</button>
                                <button class="px-3 py-2 text-sm bg-blue-600 text-white rounded">1</button>
                                <button class="px-3 py-2 text-sm border rounded hover:bg-gray-50">2</button>
                                <button class="px-3 py-2 text-sm border rounded hover:bg-gray-50">3</button>
                                <button class="px-3 py-2 text-sm border rounded hover:bg-gray-50">Next</button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add/Edit Guest Modal -->
    <div id="guestModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-screen overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h3 id="modalTitle" class="text-lg font-semibold">Add New Guest</h3>
                    <button id="closeModal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <form id="guestForm" class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">First Name *</label>
                        <input type="text" id="firstName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Last Name *</label>
                        <input type="text" id="lastName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                        <input type="email" id="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone *</label>
                        <input type="tel" id="phone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Date of Birth</label>
                        <input type="date" id="dob" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Gender</label>
                        <select id="gender" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ID Type</label>
                        <select id="idType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Select ID Type</option>
                            <option value="passport">Passport</option>
                            <option value="driver_license">Driver's License</option>
                            <option value="national_id">National ID</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ID Number</label>
                        <input type="text" id="idNumber" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Nationality</label>
                        <input type="text" id="nationality" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Guest Status</label>
                        <select id="guestStatus" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="regular">Regular</option>
                            <option value="vip">VIP</option>
                            <option value="blacklisted">Blacklisted</option>
                        </select>
                    </div>
                </div>
                <div class="mt-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Address</label>
                    <textarea id="address" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                <div class="mt-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Special Notes</label>
                    <textarea id="notes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Any special preferences or notes about the guest..."></textarea>
                </div>
                <div class="flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200">
                    <button type="button" id="cancelBtn" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md">
                        Cancel
                    </button>
                    <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md">
                        <i class="fas fa-save mr-2"></i>
                        Save Guest
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Mobile sidebar toggle
        document.getElementById('mobile-toggle').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('-translate-x-full');
        });

        // Modal functionality
        const modal = document.getElementById('guestModal');
        const addGuestBtn = document.getElementById('addGuestBtn');
        const closeModal = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const guestForm = document.getElementById('guestForm');
        const modalTitle = document.getElementById('modalTitle');

        // Show modal
        function showModal(isEdit = false, guestData = null) {
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            if (isEdit && guestData) {
                modalTitle.textContent = 'Edit Guest';
                // Populate form with guest data
                document.getElementById('firstName').value = guestData.firstName || '';
                document.getElementById('lastName').value = guestData.lastName || '';
                document.getElementById('email').value = guestData.email || '';
                document.getElementById('phone').value = guestData.phone || '';
                document.getElementById('dob').value = guestData.dob || '';
                document.getElementById('gender').value = guestData.gender || '';
                document.getElementById('idType').value = guestData.idType || '';
                document.getElementById('idNumber').value = guestData.idNumber || '';
                document.getElementById('nationality').value = guestData.nationality || '';
                document.getElementById('guestStatus').value = guestData.status || '';
                document.getElementById('address').value = guestData.address || '';
                document.getElementById('notes').value = guestData.notes || '';
            } else {
                modalTitle.textContent = 'Add New Guest';
                guestForm.reset();
            }
        }

        // Hide modal
        function hideModal() {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            guestForm.reset();
        }

        // Event listeners for modal
        addGuestBtn.addEventListener('click', () => showModal());
        closeModal.addEventListener('click', hideModal);
        cancelBtn.addEventListener('click', hideModal);

        // Close modal when clicking outside
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                hideModal();
            }
        });

        // Form submission
        guestForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                dob: document.getElementById('dob').value,
                gender: document.getElementById('gender').value,
                idType: document.getElementById('idType').value,
                idNumber: document.getElementById('idNumber').value,
                nationality: document.getElementById('nationality').value,
                status: document.getElementById('guestStatus').value,
                address: document.getElementById('address').value,
                notes: document.getElementById('notes').value
            };

            // Here you would typically send the data to your backend
            console.log('Guest data:', formData);
            
            // Show success message (you can implement a toast notification)
            alert('Guest saved successfully!');
            
            // Hide modal and refresh table
            hideModal();
            // You would refresh the guest table here
        });

        // Guest action functions
        function viewGuest(guestId) {
            // Implement view guest functionality
            console.log('Viewing guest:', guestId);
            // You could show a detailed view modal or navigate to a guest detail page
        }

        function editGuest(guestId) {
            // Sample guest data - in real implementation, fetch from backend
            const sampleGuestData = {
                firstName: 'Emma',
                lastName: 'Wilson',
                email: 'emma.wilson@email.com',
                phone: '+1 (555) 123-4567',
                dob: '1985-03-15',
                gender: 'female',
                idType: 'passport',
                idNumber: 'AB123456',
                nationality: 'American',
                status: 'vip',
                address: '123 Main St, New York, NY 10001',
                notes: 'Prefers room on higher floors, allergic to seafood'
            };
            
            showModal(true, sampleGuestData);
        }

        function deleteGuest(guestId) {
            if (confirm('Are you sure you want to delete this guest? This action cannot be undone.')) {
                // Implement delete functionality
                console.log('Deleting guest:', guestId);
                // You would call your backend API here
                alert('Guest deleted successfully!');
                // Refresh the table
            }
        }

        // Search functionality
        document.getElementById('searchGuests').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const tableRows = document.querySelectorAll('#guestTableBody tr');
            
            tableRows.forEach(row => {
                const guestName = row.querySelector('td:first-child .font-medium').textContent.toLowerCase();
                const guestEmail = row.querySelector('td:nth-child(2) p:first-child').textContent.toLowerCase();
                
                if (guestName.includes(searchTerm) || guestEmail.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });

        // Filter functionality
        document.getElementById('statusFilter').addEventListener('change', function(e) {
            const filterValue = e.target.value.toLowerCase();
            const tableRows = document.querySelectorAll('#guestTableBody tr');
            
            tableRows.forEach(row => {
                if (!filterValue) {
                    row.style.display = '';
                } else {
                    const statusSpan = row.querySelector('td:nth-child(3) span');
                    const statusText = statusSpan.textContent.toLowerCase();
                    
                    let shouldShow = false;
                    switch(filterValue) {
                        case 'current':
                            shouldShow = statusText.includes('current');
                            break;
                        case 'checked-out':
                            shouldShow = statusText.includes('checked out');
                            break;
                        case 'vip':
                            shouldShow = statusText.includes('vip');
                            break;
                        case 'blacklisted':
                            shouldShow = statusText.includes('blacklisted');
                            break;
                    }
                    
                    row.style.display = shouldShow ? '' : 'none';
                }
            });
        });

        // Sort functionality
        document.getElementById('sortBy').addEventListener('change', function(e) {
            const sortBy = e.target.value;
            const tableBody = document.getElementById('guestTableBody');
            const rows = Array.from(tableBody.querySelectorAll('tr'));
            
            rows.sort((a, b) => {
                let aValue, bValue;
                
                switch(sortBy) {
                    case 'name':
                        aValue = a.querySelector('td:first-child .font-medium').textContent;
                        bValue = b.querySelector('td:first-child .font-medium').textContent;
                        break;
                    case 'date':
                        aValue = a.querySelector('td:nth-child(4) p:first-child').textContent;
                        bValue = b.querySelector('td:nth-child(4) p:first-child').textContent;
                        break;
                    case 'status':
                        aValue = a.querySelector('td:nth-child(3) span').textContent;
                        bValue = b.querySelector('td:nth-child(3) span').textContent;
                        break;
                    default:
                        return 0;
                }
                
                return aValue.localeCompare(bValue);
            });
            
            // Clear and re-append sorted rows
            tableBody.innerHTML = '';
            rows.forEach(row => tableBody.appendChild(row));
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Any initialization code can go here
            console.log('Guest management page loaded');
        });
    </script>
</body>
</html>
