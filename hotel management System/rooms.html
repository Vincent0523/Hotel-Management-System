<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HotelEase - Rooms Management</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        .sidebar {
            transition: all 0.3s;
        }
        .main-content {
            transition: all 0.3s;
        }
        .room-card {
            transition: all 0.3s ease;
        }
        .room-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .modal {
            display: none;
        }
        .modal.active {
            display: flex;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar bg-blue-800 text-white w-64 py-4 px-6 flex flex-col">
            <div class="flex items-center justify-between mb-8">
                <h1 class="text-2xl font-bold">AKWAABA HOTEL</h1>
                <button id="collapse-btn" class="md:hidden">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav>
                <ul>
                    <li class="mb-4">
                        <a href="dashboard.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-tachometer-alt mr-3"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="reservations.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-calendar-check mr-3"></i>
                            <span>Reservations</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="guest.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-users mr-3"></i>
                            <span>Guests</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="#rooms" class="flex items-center py-2 px-4 bg-blue-900 rounded">
                            <i class="fas fa-door-closed mr-3"></i>
                            <span>Rooms</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="services.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-concierge-bell mr-3"></i>
                            <span>Services</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="billing.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-file-invoice-dollar mr-3"></i>
                            <span>Billing</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="reports.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-chart-line mr-3"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li class="mb-4">
                        <a href="settings.html" class="flex items-center py-2 px-4 hover:bg-blue-700 rounded">
                            <i class="fas fa-cog mr-3"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="mt-auto">
                <div class="flex items-center py-2 px-4">
                    <img src="images.png" alt="Admin" class="rounded-full h-10 w-10">
                    <div class="ml-3">
                        <p class="font-medium">Antepim Awuah Vincent</p>
                        <p class="text-sm text-blue-200">Admin</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div id="main-content" class="main-content flex-1 overflow-x-hidden overflow-y-auto">
            <!-- Top Navigation -->
            <header class="bg-white shadow-sm">
                <div class="flex items-center justify-between py-4 px-6">
                    <div class="flex items-center">
                        <button id="mobile-toggle" class="md:hidden mr-6">
                            <i class="fas fa-bars"></i>
                        </button>
                        <h2 class="text-xl font-semibold">Rooms Management</h2>
                    </div>
                    <div class="flex items-center">
                        <div class="relative mr-4">
                            <input type="text" id="searchInput" placeholder="Search rooms..." class="py-2 px-4 rounded-full bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                        </div>
                        <div class="relative mr-4">
                            <button class="relative">
                                <i class="fas fa-bell text-gray-500 text-xl"></i>
                                <span class="absolute -top-1 -right-1 bg-red-500 rounded-full w-4 h-4 text-xs text-white flex items-center justify-center">3</span>
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Rooms Content -->
            <main class="p-6">
                <!-- Room Statistics -->
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-6">
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-3 rounded-full">
                                <i class="fas fa-door-open text-green-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">Available Rooms</h3>
                                <p class="text-2xl font-semibold">24</p>
                                <p class="text-green-500 text-sm">Out of 50 total</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-red-100 p-3 rounded-full">
                                <i class="fas fa-door-closed text-red-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">Occupied Rooms</h3>
                                <p class="text-2xl font-semibold">18</p>
                                <p class="text-red-500 text-sm">36% occupancy</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-yellow-100 p-3 rounded-full">
                                <i class="fas fa-broom text-yellow-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">Cleaning</h3>
                                <p class="text-2xl font-semibold">5</p>
                                <p class="text-yellow-500 text-sm">In progress</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-3 rounded-full">
                                <i class="fas fa-tools text-purple-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-gray-500 text-sm">Maintenance</h3>
                                <p class="text-2xl font-semibold">3</p>
                                <p class="text-purple-500 text-sm">Under repair</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-4">
                        <div class="mb-4 md:mb-0">
                            <h3 class="font-semibold text-lg">Room Inventory</h3>
                            <p class="text-gray-500 text-sm">Manage your hotel rooms and their availability</p>
                        </div>
                        <button id="addRoomBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-plus mr-2"></i>
                            Add New Room
                        </button>
                    </div>
                    <div class="flex flex-wrap gap-4 items-center">
                        <div class="flex items-center">
                            <label class="text-sm font-medium text-gray-700 mr-2">Filter by Floor:</label>
                            <select id="floorFilter" class="border rounded-lg px-3 py-2 text-sm">
                                <option value="">All Floors</option>
                                <option value="1">Floor 1</option>
                                <option value="2">Floor 2</option>
                                <option value="3">Floor 3</option>
                            </select>
                        </div>
                        <div class="flex items-center">
                            <label class="text-sm font-medium text-gray-700 mr-2">Filter by Type:</label>
                            <select id="typeFilter" class="border rounded-lg px-3 py-2 text-sm">
                                <option value="">All Types</option>
                                <option value="Standard">Standard</option>
                                <option value="Deluxe">Deluxe</option>
                                <option value="Suite">Suite</option>
                            </select>
                        </div>
                        <div class="flex items-center">
                            <label class="text-sm font-medium text-gray-700 mr-2">Filter by Status:</label>
                            <select id="statusFilter" class="border rounded-lg px-3 py-2 text-sm">
                                <option value="">All Status</option>
                                <option value="Available">Available</option>
                                <option value="Occupied">Occupied</option>
                                <option value="Cleaning">Cleaning</option>
                                <option value="Maintenance">Maintenance</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Rooms Grid -->
                <div id="roomsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <!-- Room Cards will be populated here -->
                </div>
            </main>
        </div>
    </div>

    <!-- Add/Edit Room Modal -->
    <div id="roomModal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
                <h3 id="modalTitle" class="text-xl font-semibold">Add New Room</h3>
                <button id="closeModal" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="roomForm">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Room Number</label>
                    <input type="text" id="roomNumber" class="w-full border rounded-lg px-3 py-2" required>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Room Type</label>
                    <select id="roomType" class="w-full border rounded-lg px-3 py-2" required>
                        <option value="">Select Type</option>
                        <option value="Standard">Standard</option>
                        <option value="Deluxe">Deluxe</option>
                        <option value="Suite">Suite</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Floor</label>
                    <select id="roomFloor" class="w-full border rounded-lg px-3 py-2" required>
                        <option value="">Select Floor</option>
                        <option value="1">Floor 1</option>
                        <option value="2">Floor 2</option>
                        <option value="3">Floor 3</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Price per Night ($)</label>
                    <input type="number" id="roomPrice" class="w-full border rounded-lg px-3 py-2" required>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Capacity</label>
                    <input type="number" id="roomCapacity" class="w-full border rounded-lg px-3 py-2" required>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                    <select id="roomStatus" class="w-full border rounded-lg px-3 py-2" required>
                        <option value="Available">Available</option>
                        <option value="Occupied">Occupied</option>
                        <option value="Cleaning">Cleaning</option>
                        <option value="Maintenance">Maintenance</option>
                    </select>
                </div>
                <div class="flex gap-4">
                    <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg">
                        Save Room
                    </button>
                    <button type="button" id="cancelModal" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample room data
        let rooms = [
            { id: 1, number: '101', type: 'Standard', floor: 1, price: 150, capacity: 2, status: 'Available' },
            { id: 2, number: '102', type: 'Standard', floor: 1, price: 150, capacity: 2, status: 'Occupied' },
            { id: 3, number: '103', type: 'Deluxe', floor: 1, price: 200, capacity: 3, status: 'Cleaning' },
            { id: 4, number: '104', type: 'Deluxe', floor: 1, price: 200, capacity: 3, status: 'Available' },
            { id: 5, number: '105', type: 'Suite', floor: 1, price: 350, capacity: 4, status: 'Available' },
            { id: 6, number: '201', type: 'Standard', floor: 2, price: 160, capacity: 2, status: 'Occupied' },
            { id: 7, number: '202', type: 'Deluxe', floor: 2, price: 220, capacity: 3, status: 'Available' },
            { id: 8, number: '203', type: 'Suite', floor: 2, price: 380, capacity: 4, status: 'Maintenance' },
            { id: 9, number: '204', type: 'Standard', floor: 2, price: 160, capacity: 2, status: 'Available' },
            { id: 10, number: '205', type: 'Deluxe', floor: 2, price: 220, capacity: 3, status: 'Occupied' },
            { id: 11, number: '301', type: 'Suite', floor: 3, price: 400, capacity: 4, status: 'Available' },
            { id: 12, number: '302', type: 'Suite', floor: 3, price: 400, capacity: 4, status: 'Cleaning' }
        ];

        let currentEditId = null;

        // Status color mapping
        const statusColors = {
            'Available': 'bg-green-100 text-green-800',
            'Occupied': 'bg-red-100 text-red-800',
            'Cleaning': 'bg-yellow-100 text-yellow-800',
            'Maintenance': 'bg-purple-100 text-purple-800'
        };

        // Mobile sidebar toggle
        document.getElementById('mobile-toggle').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('-translate-x-full');
        });

        // Render rooms
        function renderRooms(roomsToRender = rooms) {
            const grid = document.getElementById('roomsGrid');
            grid.innerHTML = '';

            roomsToRender.forEach(room => {
                const roomCard = document.createElement('div');
                roomCard.className = 'room-card bg-white rounded-lg shadow-sm p-6 border-l-4 border-blue-500';
                
                roomCard.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-semibold text-lg">Room ${room.number}</h3>
                            <p class="text-gray-500 text-sm">${room.type} â€¢ Floor ${room.floor}</p>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="editRoom(${room.id})" class="text-blue-600 hover:text-blue-800 p-1">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteRoom(${room.id})" class="text-red-600 hover:text-red-800 p-1">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <span class="px-2 py-1 text-xs rounded-full ${statusColors[room.status]}">${room.status}</span>
                    </div>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div>
                            <p class="text-gray-500">Price/Night</p>
                            <p class="font-semibold">$${room.price}</p>
                        </div>
                        <div>
                            <p class="text-gray-500">Capacity</p>
                            <p class="font-semibold">${room.capacity} ${room.capacity === 1 ? 'person' : 'people'}</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t">
                        <button onclick="changeRoomStatus(${room.id})" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded text-sm">
                            Change Status
                        </button>
                    </div>
                `;
                
                grid.appendChild(roomCard);
            });
        }

        // Filter functions
        function applyFilters() {
            const floorFilter = document.getElementById('floorFilter').value;
            const typeFilter = document.getElementById('typeFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();

            let filteredRooms = rooms.filter(room => {
                const matchesFloor = !floorFilter || room.floor.toString() === floorFilter;
                const matchesType = !typeFilter || room.type === typeFilter;
                const matchesStatus = !statusFilter || room.status === statusFilter;
                const matchesSearch = !searchTerm || 
                    room.number.toLowerCase().includes(searchTerm) ||
                    room.type.toLowerCase().includes(searchTerm);

                return matchesFloor && matchesType && matchesStatus && matchesSearch;
            });

            renderRooms(filteredRooms);
        }

        // Add event listeners for filters
        document.getElementById('floorFilter').addEventListener('change', applyFilters);
        document.getElementById('typeFilter').addEventListener('change', applyFilters);
        document.getElementById('statusFilter').addEventListener('change', applyFilters);
        document.getElementById('searchInput').addEventListener('input', applyFilters);

        // Modal functions
        function openModal(title = 'Add New Room') {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('roomModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('roomModal').classList.remove('active');
            document.getElementById('roomForm').reset();
            currentEditId = null;
        }

        // Add room
        document.getElementById('addRoomBtn').addEventListener('click', () => {
            openModal('Add New Room');
        });

        // Close modal
        document.getElementById('closeModal').addEventListener('click', closeModal);
        document.getElementById('cancelModal').addEventListener('click', closeModal);

        // Edit room
        function editRoom(id) {
            const room = rooms.find(r => r.id === id);
            if (room) {
                currentEditId = id;
                openModal('Edit Room');
                
                document.getElementById('roomNumber').value = room.number;
                document.getElementById('roomType').value = room.type;
                document.getElementById('roomFloor').value = room.floor;
                document.getElementById('roomPrice').value = room.price;
                document.getElementById('roomCapacity').value = room.capacity;
                document.getElementById('roomStatus').value = room.status;
            }
        }

        // Delete room
        function deleteRoom(id) {
            if (confirm('Are you sure you want to delete this room?')) {
                rooms = rooms.filter(r => r.id !== id);
                renderRooms();
                updateStats();
            }
        }

        // Change room status
        function changeRoomStatus(id) {
            const room = rooms.find(r => r.id === id);
            if (room) {
                const statuses = ['Available', 'Occupied', 'Cleaning', 'Maintenance'];
                const currentIndex = statuses.indexOf(room.status);
                const nextIndex = (currentIndex + 1) % statuses.length;
                room.status = statuses[nextIndex];
                renderRooms();
                updateStats();
            }
        }

        // Form submission
        document.getElementById('roomForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const roomData = {
                number: document.getElementById('roomNumber').value,
                type: document.getElementById('roomType').value,
                floor: parseInt(document.getElementById('roomFloor').value),
                price: parseFloat(document.getElementById('roomPrice').value),
                capacity: parseInt(document.getElementById('roomCapacity').value),
                status: document.getElementById('roomStatus').value
            };

            if (currentEditId) {
                // Edit existing room
                const roomIndex = rooms.findIndex(r => r.id === currentEditId);
                if (roomIndex !== -1) {
                    rooms[roomIndex] = { ...rooms[roomIndex], ...roomData };
                }
            } else {
                // Add new room
                const newRoom = {
                    id: Date.now(), // Simple ID generation
                    ...roomData
                };
                rooms.push(newRoom);
            }

            closeModal();
            renderRooms();
            updateStats();
        });

        // Update statistics
        function updateStats() {
            const available = rooms.filter(r => r.status === 'Available').length;
            const occupied = rooms.filter(r => r.status === 'Occupied').length;
            const cleaning = rooms.filter(r => r.status === 'Cleaning').length;
            const maintenance = rooms.filter(r => r.status === 'Maintenance').length;

            // Update the stats cards (you can customize this based on your needs)
            console.log(`Stats - Available: ${available}, Occupied: ${occupied}, Cleaning: ${cleaning}, Maintenance: ${maintenance}`);
        }

        // Initial render
        renderRooms();
    </script>
</body>
</html>
